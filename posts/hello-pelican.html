<!DOCTYPE html>
<html lang="zh-cn">
<head>
        <title>Cynosura - Hello Pelican</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" media="(prefers-color-scheme: light)" content="#EEF7F2">
    <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#0C0C0C">
    <meta name="generator" content="Pelican">
    <link rel="stylesheet" type="text/css" href="https://cynosura.one/posts/theme/css/style.css">
    <link rel="icon" type="image/x-icon" href="https://cynosura.one/posts/theme/img/favicon.ico">
    <link rel="sitemap" type="application/xml" title="Sitemap" href="https://cynosura.one/posts/sitemap.xml">
    <link href="https://cynosura.one/posts/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Cynosura Full Atom Feed">





</head>
<body>
    <header>
        <div class="avatar">
            <img src="https://cynosura.one/posts/theme/img/avatar.webp" alt="avatar" class="avatar-img">
        </div>
        <div class="title">
            <h1>Cynosura</h1>
        </div>
        <nav class="menu">
            <ul>
                <li><a href="https://cynosura.one" class="menu-link">首页</a></li>
                <li><a href="https://cynosura.one/posts/" class="menu-link-active">文章</a></li>
                <li><a href="https://cynosura.one/friends" class="menu-link">友人</a></li>
                <li><a href="https://cynosura.one/about" class="menu-link">关于</a></li>
            </ul>
        </nav>
    </header>
<article class="post-card card">
    <div>
        <h2 class="post-title">Hello Pelican</h2>
        
    </div>
    <div class="post-content">
        <p>尝试利用 <a href="https://getpelican.com">Pelican</a> 替代原本使用的 Hexo，并废除了独立 Blog 入口。</p>
<p>Pelican 上手还是挺简单的，基本上参照 <a href="https://docs.getpelican.com/en/latest/quickstart.html">官方文档</a> 即可快速生成可用的文章页。</p>
<p>相较于 Hexo，Pelican 基于 Python，终于不用被 Node.js 那堆依赖折腾得死去活来了，整体操作逻辑也更加清晰。但由于 Pelican 的用户较少，网络上可用的主题屈指可数，无意中拉高了使用门槛。建议对 Pelican 有兴趣的可以像我一样动手折腾自定义主题；基于官方的 simple 主题修改不难，只要对着文档修改，加上自己的一点样式即可。</p>
<p>用半天时间移植了原本用于 Hexo 的自定义主题，目前只修改好了 base、article 和 index 页就仓促上线了，难免存在疏漏。如果遇到样式问题请在下面留言告诉我，非常感谢~</p>
<h2>增加 RSS 支持</h2>
<p>斟酌再三，还是决定为文章页增加 RSS (实际是 Atom) 支持，仅需在配置文件里指定生成路径即可。</p>
<div class="highlight"><pre><span></span><code><span class="n">FEED_ALL_ATOM = &#39;feeds/all.atom.xml&#39;</span>
<span class="n">FEED_DOMAIN = SITEURL</span>
<span class="n">FEED_MAX_ITEMS  =  15</span>
<span class="n">RSS_FEED_SUMMARY_ONLY = False</span>
<span class="n">CATEGORY_FEED_ATOM = None</span>
<span class="n">TRANSLATION_FEED_ATOM = None</span>
<span class="n">AUTHOR_FEED_ATOM = None</span>
<span class="n">AUTHOR_FEED_RSS = None</span>
</code></pre></div>

<p><code>FEED_ALL_ATOM</code> 指定 RSS 的生成位置。Pelican 提倡尽量使用绝对地址，这种理念在 <a href="https://docs.getpelican.com/en/stable/settings.html#feed-settings">官方文档</a> 的相关设置中就有所体现。</p>
<p>若该值未设置成绝对地址，则在每次生成中会跳出警告：Feeds generated without SITEURL set properly may not be valid。要使用相对地址并去除警告，则必须设置 FEED_DOMAIN。</p>
<p><code>FEED_DOMAIN</code> 指定 RSS 生成域名，可直接使用 SITEURL 变量，更加灵活。</p>
<p><code>FEED_MAX_ITEMS</code> 设置 RSS 生成的最大文章量。这里推荐设置一个合适的限制值，以防文章较多时，RSS 为读者推送动辄上百篇的文章，影响阅读体验。我认为设置在 10~20 篇左右为宜。</p>
<p><code>RSS_FEED_SUMMARY_ONLY</code> 指定 RSS 包括全文，还是仅生成摘要信息。个人建议 RSS 包含全文而非摘要，仅生成摘要虽然能引导读者跳转到网站阅读，但这种操作十分影响阅读体验。试想当你在阅读器看到感兴趣的文章，却要跳转到网页才能继续观看，你会选择跳转还是直接关闭呢，相信你心里自有答案。</p>
<p>设置并重新执行文章生成后，RSS 就会在指定位置生成好了，添加到网页任意位置即可。</p>
    </div>
</article>
<div class="post-footer">
    <div class="post-meta card">
        <h2 class="post-title">本文信息</h2>
            <p><strong>作者: </strong>Frudrax Cheng</p>
        <p><strong>发布时间:</strong>
            <time class="published" datetime="2023-07-27T21:07:00+08:00">
            2023-07-27 (周四)
            </time>
        </p>
        <p><strong>链接: </strong><a href="https://cynosura.one/posts/hello-pelican.html" title="Hello Pelican">https://cynosura.one/posts/hello-pelican.html</a></p>
        <div class="copyright">
            <p><strong>版权许可: </strong><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0" target="_blank" title="Creative Commons Attribution-ShareAlike 4.0 International License">署名-相同方式共享 4.0 (CC BY-SA 4.0)</a></p>
            <img class="icon" src="https://cynosura.one/posts/theme/img/icons/creative_icon.svg" alt="creative_icon">
        </div>
    </div>
    <div class="comments card">
        <h2 class="post-title">评论</h2>
        <p>注：点击下方按钮加载 Disqus，需启用 JavaScript</p>
        <div id="disqus_thread"></div>
        <!-- 添加一个按钮 -->
        <button id="load_disqus" class="button">加载评论</button>
        <!-- Disqus 留言板容器 -->
        <div id="disqus_thread_container"></div>
    </div>
    <script>
        // 点击按钮后加载 Disqus 留言板
        document.getElementById('load_disqus').addEventListener('click', function() {
            // 添加 Disqus 留言板脚本
            var disqusScript = document.createElement('script');
            disqusScript.src = 'https://cynosura-one.disqus.com/embed.js';
            disqusScript.setAttribute('data-timestamp', +new Date());
            document.head.appendChild(disqusScript);
            // 移动 Disqus 留言板内容到容器中
            var disqusContainer = document.getElementById('disqus_thread_container');
            disqusContainer.appendChild(document.getElementById('disqus_thread'));
            // 隐藏按钮，防止重复加载
            this.style.display = 'none';
        });
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
    <footer>
        <p>Copyright &copy; 2023 Cynosura</p>
        <p>Powered by <a href="https://getpelican.com/">Pelican</a> | <a href="https://cynosura.one/posts/feeds/all.atom.xml">Feed</a></p>
    </footer>
</body>
</html>